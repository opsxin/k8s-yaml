apiVersion: v1
kind: Pod
metadata: 
  name: nginx-pod
  namespace: k8s-yaml
spec: 
  containers: 
    - name: nginx-pod
      image: nginx
      resources:  
        requests: 
          memory: 100M
          cpu: 50m
        limits:
          memory: 200M
          cpu: 100m
      volumeMounts:
        - name: test
          mountPath: /usr/share/nginx/html
      lifecycle:
        postStart: 
          exec: 
            command: ["sh", "-c", "echo '1234'"]
        preStop: 
          exec: 
            command: ["sh", "-c", "nginx -s stop"]
  initContainers: 
    - name: init-html
      command: ["sh", "-c", "echo 'dsfdsf' >> /html/index.html"]
      image: busybox
      volumeMounts:
        - name: test
          mountPath: /html
  volumes:
    - name: test
      emptyDir: {}
